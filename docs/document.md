## 【前端核心组件】

> 1、CTG组件

- 曲线显示区域，跟进父级容器自动调整宽width和高height
- 显示配置参数
   - 网格线颜色、粗细 （横、竖、间隔）
   - 正常范围颜色（FHR正常区域范围，可设置，默认110~160）
   - 数据曲线颜色（FHR1、FHR2、FHR3、TOCO、基线）
   - 标度尺字体大小、显示位置，时间轴显示配置类型（X轴时间轴默认采用绝对时间和相对时间间隔方式显示，可设置只绝对时间 或只相对时间等，默认每两分钟进行一个标识；x轴每小格20s，每三小格（一分钟）轴线需要着重）
   - 分析数据显示（加、减速）
   - 显示选中条
- 数据显示类型：实时数据、静态数据加载
   - 实时数据，定时刷新间隔，走纸方向，是否抽点
   - 实时数据，缓冲区
   - 数据合理性调整： （如果FHR曲线实时值为0则曲线不连贯绘制——即如果有为0的点，则曲线是断裂的效果；如果FHR曲线两点之间相差30，规则同上；如果FHR >240 则画为240 ；0<FHR<30 则画为30；）
   - FHR区域Y轴范围包括30~240 和 50~210两个规格，其中每小格代表10，每两个通过加重线宽起到区分作用
   - TOCO区域默认范围0~100，每小格代表10，每两个通过加重线宽起到区分作用
   - 双胎或三胎情况，每条FHR需要在左侧标识fhr1~fhr3，且为了方式三条线重合可设置另外两条线相对FHR1的偏移位置 ，上下偏移20bpm
- 滚动条显示
   - 滚动条长度处理
   - 滚动条事件，根据拖动比例调整当前点位置
   - 性能处理，不卡顿，曲线保持连续
   - 存在问题【滚动条过小，可能需增加 一个微调轴 选择。滚动条作为 粗调，canvas拖动作为细调】
- 功能按钮列表
   - 按钮功能封装，是否显示可配置
   - 建档（绑定）、开始监护、停止监护、电脑分析、打印、产程图、事件记录、最大化....
- 床位信息显示
   - 床号、住院号、产妇姓名、开始时间
- 走纸打印方式
   - 网格跟随

> 2、ECG组件

- 组件绘制标尺
- 显示母亲心电、脉搏、呼吸波 曲线或面积图，显示其他多参数值
- 刷新间隔时间
- 组件大小根据父容器自适应

> 3、产程图（partogram）

- 产程图支持，交叉型和伴行型 ，是否显示事件
- 表格组件数据保存，产程图更新
- 表格支持行内编辑添加及下方表单区域添加两种形式
- 产程图显示
  - 尺寸配置
  - 标尺图案、大小、颜色
  - 坐标轴文字大小及显示
  - 事件文字字体、大小、颜色

> 4、打印预览组件

- 支持选择曲线选择。
- 支持生成pdf、打印。

> 5、电脑分析组件

- 支持分析算法：Krebs, Fisher, NST, CST
- 支持分析报告打印
- 分析算法调用（待定）

> 6、床位显示组件

- 区分在线、开始监护、离线、报警状态
- 点击跳转到对应分组tab
- 默认两行 每行 10床，超过支持垂直方向滚动条
- 床位信息缓存在数组等，通过websocket显示

## 【前端页面功能说明】

基本业务流程
> 1、登录

- 工号，密码，登录，可记录账号信息。
（下一步，客户端可配置免登录，默认使用上次账号登录。）
- 登出
- 修改个人信息、密码等

> 2、系统主页

- 进入时建立websocket连接，获取床位（子机）状态列表
- 根据床位列表数据，刷新床位组件，生成tab列表
- 默认加载第一个tab页（根据床号，初始化ctg组件）
   - 根据床位类型判断是胎监、母胎，单胎，多胎...
   - 根据websocket数据，判断是否需要请求离线数据，并缓存数据后开启定时器动态显示曲线。
   - 点击最大化按钮，可最大化一个床的曲线信息
   - 点击其他按钮分别进入其他的子页

> 3、建档页

- 弹出框（或modal窗）打开
- 支持录入表单：床号，住院号，姓名，年龄，孕、产次、预产期、当前孕周、手机号等信息。 支持根据床号或住院号搜索信息
- 有新建、确定、取消按钮，点击调用后台接口

> 4、打印预览页

- 显示 CTG组件，支持选择打印范围
- 点击打印生成pdf （传递开始、结束点、档案号、孕产妇号，后台生成）并打印

> 5、分析页

- 显示CTG曲线
- 显示分析页相关表单内容

> 6、产程图页

- 显示CTG 及产程图组件
- 支持产程图信息的录入

> 7、 历史档案页

- 由表格组件+CTG组件构成
- 表格组件支持 根据姓名、住院号、档案时间搜索
- 点击表格行，ctg组件加载相应曲线信息显示

> 8、系统设计页

- 医院基本信息设置，医院名称，地址，电话等
- 用户设置、角色设置、权限设置
- 报警设置
- CTG曲线设置
- 版本信息
- 打印设置
